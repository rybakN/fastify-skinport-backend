# Fastify Skinport Backend

## Описание проекта
Этот проект представляет собой простой backend-сервер на базе `Fastify`, который взаимодействует с `Skinport API` и базой данных `PostgreSQL`. Сервер предоставляет два основных эндпоинта:

1. `GET /skinport/items` — получение списка предметов с минимальными ценами (tradable и non-tradable) с использованием кеширования.
2. `PUT /users/:id/withdraw` — списание баланса пользователя.
```
id - идентификатор пользователя
body: { "price": 200 } - сумма списания с баланса
```
## Установка и запуск проекта
1. Клонировать репозиторий:
```bash
   git clone https://github.com/rybakN/fastify-skinport-backend.git
   cd fastify-skinport-backend
```
2. Установить зависимости:
```bash
$ npm install
```
3. Создать файл `.env` в корне проекта и заполнить его данными:
```bash
# Параметры запуска сервера
PORT=3000
HOST=0.0.0.0

# Параметры подключения к базе данных PostgreSQL
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=yourpassword
DB_NAME=yourdbname
```
4. Запуск проекта:
```bash
# Запуск проекта в режиме разработки (watch mode):
$ npm run dev

# Запуск проекта в продакшен режиме:
$ npm run start
```
# Технологии проекта

В этом проекте используются следующие технологии и библиотеки:

## Зависимости

### Основные зависимости

- **[axios](https://axios-http.com/)**: Библиотека для выполнения HTTP-запросов. Используется для взаимодействия с внешними API и получения данных.

- **[dotenv](https://github.com/motdotla/dotenv)**: Библиотека для загрузки переменных окружения из файла `.env` в `process.env`. Это позволяет управлять конфиденциальными данными, такими как ключи API и настройки базы данных, без их жесткой кодировки в исходном коде.

- **[fastify](https://www.fastify.io/)**: Высокопроизводительный веб-фреймворк для Node.js. Он обеспечивает быструю обработку запросов и простую настройку маршрутов.

- **[node-cache](https://github.com/node-cache/node-cache)**: Простая в использовании библиотека кэширования для Node.js. Используется для временного хранения данных в памяти, что помогает снизить нагрузку на API и ускорить доступ к часто запрашиваемым данным.

- **[pg](https://node-postgres.com/)**: Клиент для работы с PostgreSQL в Node.js. Позволяет выполнять SQL-запросы к базе данных PostgreSQL.

### Зависимости для разработки

- **[@types/node](https://www.npmjs.com/package/@types/node)**: Набор типов TypeScript для Node.js. Обеспечивает поддержку типов при разработке на TypeScript.

- **[@types/node-cache](https://www.npmjs.com/package/@types/node-cache)**: Набор типов TypeScript для библиотеки `node-cache`. Позволяет использовать типизацию при работе с кэшированием.

- **[@types/pg](https://www.npmjs.com/package/@types/pg)**: Набор типов TypeScript для библиотеки `pg`. Обеспечивает поддержку типов при работе с PostgreSQL.

- **[nodemon](https://nodemon.io/)**: Утилита, которая автоматически перезапускает приложение Node.js при изменении файлов. Упрощает процесс разработки, позволяя не перезапускать сервер вручную.

- **[prettier](https://prettier.io/)**: Инструмент форматирования кода, который помогает поддерживать единообразный стиль кода в проекте. Обеспечивает автоматическое форматирование при сохранении файлов.

- **[ts-node](https://typestrong.org/ts-node/)**: Утилита, которая позволяет выполнять TypeScript-код напрямую в Node.js без предварительной компиляции. Упрощает разработку и тестирование приложений на TypeScript.

- **[typescript](https://www.typescriptlang.org/)**: Язык программирования, основанный на JavaScript, который добавляет статическую типизацию. Позволяет создавать более надежные и поддерживаемые приложения.